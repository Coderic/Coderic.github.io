<h1>Recibir nuevo paquete</h1>
<form [formGroup]="createForm" novalidate (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <div class="d-grid gap-3" style="grid-template-columns: 1fr 2fr;">
        <div class="bg-body-tertiary border rounded-3 p-3">
            <div class="mb-3">
                <label for="recibo" class="form-label">Número de recibo:</label>
                <div class="input-group mb-3">
                    <input type="text" class="form-control" formControlName="recibo" id="recibo" placeholder="9405516902697649303570">
                </div>
            </div>
            <div class="mb-3">
                <label for="consignatario" class="form-label">Consignatario:</label>
                <select class="form-select" formControlName="remittee_id" aria-label="size 3 select">
                    <option *ngFor="let remittee of senders$ | async" [value]="remittee.id">
                        {{ remittee.nombres }} {{ remittee.apellidos }}
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <label for="recibo" class="form-label">Shipper:</label>
                <select class="form-select" formControlName="shipper_id" aria-label="size 3 select">
                    <option *ngFor="let shippers of shippers$ | async" [value]="shippers.id">
                        {{ shippers.name }}
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <label for="tracking" class="form-label">Número de tracking:</label>
                <div class="input-group mb-3">
                    <input type="search" class="form-control" formControlName="tracking" id="tracking" placeholder="9405516902697649303570">
                    <span class="input-group-text" id="basic-addon1">
                        <i class="bi bi-search"></i>
                    </span>
                </div>
            </div>
            <div class="mb-3">
                <label for="recibo" class="form-label">Tipo de paquete:</label>
                <select class="form-select" size="6" formControlName="packageType_id" aria-label="size 3 select example">
                    <option *ngFor="let packageTypes of packageTypes$ | async" [value]="packageTypes.id">
                        {{ packageTypes.name }}
                    </option>
                </select>
            </div>
        </div>
        <div class="bg-body-tertiary border rounded-3 p-2">
            <fieldset>
                <legend>Medidas</legend>
                <div class="row">
                    <div class="col mb-3">
                        <label for="alto" class="form-label">Alto</label>
                        <input type="number" id="alto" formControlName="alto" class="form-control" placeholder="0">
                    </div>
                    <div class="col mb-3">
                        <label for="ancho" class="form-label">Ancho</label>
                        <input type="number" id="ancho" formControlName="ancho" class="form-control" placeholder="0">
                    </div>
                    <div class="col mb-3">
                        <label for="largo" class="form-label">Largo</label>
                        <input type="number" id="largo" formControlName="largo" class="form-control" placeholder="0">
                    </div>
                    <div class="col mb-3">
                        <label for="peso" class="form-label">Peso</label>
                        <input type="number" id="peso" formControlName="peso" class="form-control" placeholder="0">
                    </div>
                </div>
                <legend>Total de las medidas</legend>
                <div class="row">
                    <div class="col mb-3">
                        <label for="lbs" class="form-label">Total LBS Vol</label>
                        <input type="number" readonly="readonly" id="lbs" class="form-control" placeholder="0">
                    </div>
                    <div class="col mb-3">
                        <label for="pies" class="form-label">Total pies cúbicos</label>
                        <input type="number" readonly="readonly" id="pies" class="form-control" placeholder="0">
                    </div>
                    <div class="col mb-3">
                        <label for="peso" class="form-label">Total peso</label>
                        <input type="number" readonly="readonly" id="peso" class="form-control" placeholder="0">
                    </div>
                </div>
                <legend>Fotos</legend>
                <div class="m-2">
                    
                    <input class="form-control file-input" type="file" formControlName="files" id="formFile" (change)="onFileSelected($event)" #fileUpload>
                </div>
                <div class="file-upload">

                    {{fileName || "No file uploaded yet."}}
                 
                     <button mat-mini-fab color="primary" class="upload-btn"
                       (click)="fileUpload.click()">
                       <i class="bi bi-upload"></i>
                     </button>

                     <button mat-mini-fab color="primary" class="upload-btn"
                       (click)="fileUpload.click()">
                       <i class="bi bi-upload"></i>
                     </button>
                 </div>
                <div>
                    <picture class="m-1">
                        <img src="https://picsum.photos/190" class="img-fluid img-thumbnail w-190 " alt="">
                        <div class="btn-group mt-1 w-100" role="group">
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                data-bs-target="#exampleModal"><i class="bi bi-zoom-in"></i> Ver</button>
                            <button type="button" class="btn btn-danger"><i class="bi bi-trash"></i> Eliminar</button>
                        </div>
                    </picture>
                    <picture class="m-1">
                        <img src="https://picsum.photos/190" class="img-fluid img-thumbnail w-190 " alt="">
                        <div class="btn-group mt-1 w-100" role="group">
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                data-bs-target="#exampleModal"><i class="bi bi-zoom-in"></i> Ver</button>
                            <button type="button" class="btn btn-danger"><i class="bi bi-trash"></i> Eliminar</button>
                        </div>
                    </picture>
                    <picture class="m-1">
                        <img src="https://picsum.photos/190" class="img-fluid img-thumbnail w-190 " alt="">
                        <div class="btn-group mt-1 w-100" role="group">
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                data-bs-target="#exampleModal"><i class="bi bi-zoom-in"></i> Ver</button>
                            <button type="button" class="btn btn-danger"><i class="bi bi-trash"></i> Eliminar</button>
                        </div>
                    </picture>
                    <picture class="m-1">
                        <img src="https://picsum.photos/190" class="img-fluid img-thumbnail w-190 " alt="">
                        <div class="btn-group mt-1 w-100" role="group">
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                data-bs-target="#exampleModal"><i class="bi bi-zoom-in"></i> Ver</button>
                            <button type="button" class="btn btn-danger"><i class="bi bi-trash"></i> Eliminar</button>
                        </div>
                    </picture>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="mt-3">
        <div class="bg-body-tertiary border rounded-3 p-3">
            <div class="mb-3">
                <label for="notas" class="form-label">Notas</label>
                <textarea class="form-control" formControlName="notas" id="notas" rows="4"></textarea>
            </div>
        </div>
        <div class="text-center mt-3">
            <button type="submit" [disabled]="!createForm.valid" class="btn btn-primary"><i class="bi bi-save"></i> Guardar</button>
        </div>
    </div>
</form>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title" id="exampleModalLabel">Vista previa de la fotografía</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <img src="https://picsum.photos/190" class="img-fluid img-thumbnail h-100 mx-auto" alt="">
            </div>
        </div>
    </div>
</div>